]: +------------------------------------------------------------------------------+
]: |                            Starting common setup                             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                      Starting subsection set_log_level                       |
]: +------------------------------------------------------------------------------+
]: The result of subsection set_log_level is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting subsection get_git_version                      |
]: +------------------------------------------------------------------------------+
]: commit 4bf7a4fd2af3e166ff52e677be8c138a5ab82c5f (HEAD -> v178_throttle)
]: Author: polwfbot <polwfbot@cisco.com>
]: Date:   Thu Apr 28 11:17:15 2022 -0700
]: 
]:     Generated CODEOWNERS commit
]: 
]: commit 870ecbcf4efb5483bcf9290fe4380be840eb03a1
]: Author: polwfbot <polwfbot@cisco.com>
]: Date:   Thu Apr 28 01:43:24 2022 -0700
]: 
]:     Generated CODEOWNERS commit
]: 
]: commit dd444ed90ed2f7927910c46a3e90dd8a372884a7
]: Author: polwfbot <polwfbot@cisco.com>
]: Date:   Thu Apr 28 00:11:03 2022 -0700
]: 
]:     Generated CODEOWNERS commit
]: 
]: commit 6ef627996ae062aa3d2e3349288d15958c45ddc4
]: Author: polwfbot <polwfbot@cisco.com>
]: Date:   Wed Apr 27 23:42:32 2022 -0700
]: 
]:     Generated CODEOWNERS commit
]: 
]: commit 9975110b3b7d790eefeba9dfcb92704b1257633b
]: Author: polwfbot <polwfbot@cisco.com>
]: Date:   Tue Apr 26 11:17:43 2022 -0700
]: 
]:     Generated CODEOWNERS commit
]: 
]: The result of subsection get_git_version is => PASSED
]: +------------------------------------------------------------------------------+
]: |                      Starting subsection validate_args                       |
]: +------------------------------------------------------------------------------+
]: Validating authmode...
]: Validating uut.connections.gnmi.target field...
]: The result of subsection validate_args is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting subsection connect_IOS                        |
]: +------------------------------------------------------------------------------+
]: Connecting via CONSOLE and configuring line vty 0 4 transport input all
]: Problem in clearing console lines
]: Calling uut.connect
]: The result of subsection connect_IOS is => PASSED
]: +------------------------------------------------------------------------------+
]: |                    Starting subsection detect_ios_version                    |
]: +------------------------------------------------------------------------------+
]: Detected IOS version 17.6
]: The result of subsection detect_ios_version is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting subsection list_testcase_files                    |
]: +------------------------------------------------------------------------------+
]: Discovered: data/gnoi_cert/can_generate_csr_nokeyloop_2048.yaml
]: Discovered: data/gnoi_cert/can_generate_csr_nokeyloop_3072.yaml
]: Discovered: data/gnoi_cert/can_generate_csr_nokeyloop_bad_3073.yaml
]: Discovered: data/gnoi_cert/get_many_certs_success.yaml
]: Discovered: data/gnoi_cert/get_success.yaml
]: Discovered: data/gnoi_cert/install_bad_cert_type.yaml
]: Discovered: data/gnoi_cert/install_bad_key_type.yaml
]: Discovered: data/gnoi_cert/install_empty_cert_data.yaml
]: Discovered: data/gnoi_cert/install_empty_cert_id.yaml
]: Discovered: data/gnoi_cert/install_fail_nokeyloop_8096.yaml
]: Discovered: data/gnoi_cert/install_fail_preexisting.yaml
]: Discovered: data/gnoi_cert/install_fail_with_unknown_ca.yaml
]: Discovered: data/gnoi_cert/install_multiple_CA.yaml
]: Discovered: data/gnoi_cert/install_no_load_cert_req.yaml
]: Discovered: data/gnoi_cert/install_sleep_before_loadCertReq.yaml
]: Discovered: data/gnoi_cert/install_success.yaml
]: Discovered: data/gnoi_cert/install_success_fast.yaml
]: Discovered: data/gnoi_cert/install_then_rotate_with_unknown_CA.yaml
]: Discovered: data/gnoi_cert/provision_install_rotate_revoke.yaml
]: Discovered: data/gnoi_cert/provision_success_twice.yaml
]: Discovered: data/gnoi_cert/revoke_bad.yaml
]: Discovered: data/gnoi_cert/revoke_several_success.yaml
]: Discovered: data/gnoi_cert/revoke_success.yaml
]: Discovered: data/gnoi_cert/rotate_bad.yaml
]: Discovered: data/gnoi_cert/rotate_bad_cert_type.yaml
]: Discovered: data/gnoi_cert/rotate_bad_key_type.yaml
]: Discovered: data/gnoi_cert/rotate_empty_cert_data.yaml
]: Discovered: data/gnoi_cert/rotate_empty_cert_id.yaml
]: Discovered: data/gnoi_cert/rotate_fail_nokeyloop_8096.yaml
]: Discovered: data/gnoi_cert/rotate_no_csr_params.yaml
]: Discovered: data/gnoi_cert/rotate_no_load_cert_req.yaml
]: Discovered: data/gnoi_cert/rotate_sleep_before_loadCertReq.yaml
]: Discovered: data/gnoi_cert/rotate_success.yaml
]: Discovered: data/gnoi_cert/rotate_success_same_cert_many_times.yaml
]: Discovered: data/gnoi_cert/rotate_unknown_ca.yaml
]: The result of subsection list_testcase_files is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting subsection generate_default_CA                    |
]: +------------------------------------------------------------------------------+
]: The result of subsection generate_default_CA is => PASSED
]: +------------------------------------------------------------------------------+
]: |               Starting subsection unconfigure_gnmi_subsection                |
]: +------------------------------------------------------------------------------+
]: The result of subsection unconfigure_gnmi_subsection is => PASSED
]: +------------------------------------------------------------------------------+
]: |                      Starting subsection configure_gnmi                      |
]: +------------------------------------------------------------------------------+
]: Turn off gnxi
]: Self-signed certificate to be installed.
]: Run show_crypto_pki_commands
]: Crypto set up complete if required
]: Sleeping 19s for gNMI to sync (10s + 3*uut.connections.gnmi.op_sleep_time)
]: Set the trace level to debug for gNMI processes
]: The result of subsection configure_gnmi is => PASSED
]: +------------------------------------------------------------------------------+
]: |                    Starting subsection mem_leaks_collect                     |
]: +------------------------------------------------------------------------------+
]: The result of subsection mem_leaks_collect is => PASSED
]: +------------------------------------------------------------------------------+
]: |                         Starting subsection set_loop                         |
]: +------------------------------------------------------------------------------+
]: The result of subsection set_loop is => PASSED
]: The result of common setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                  Starting testcase gnoi_bootstrapping_check                  |
]: +------------------------------------------------------------------------------+
]: Skipped reason: PreProcessor-2 'skip' - Not a good testcase, disable for now till we rework it
]: The result of testcase gnoi_bootstrapping_check is => SKIPPED
]: +------------------------------------------------------------------------------+
]: |      Starting testcase can_generate_csr_nokeyloop_2048(keysize=noauto)       |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/can_generate_csr_nokeyloop_2048.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - can_gen_csr_2048                             Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:07:18.560369 2550342 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:34104->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase can_generate_csr_nokeyloop_2048(keysize=noauto) is => FAILED
]: +------------------------------------------------------------------------------+
]: |      Starting testcase can_generate_csr_nokeyloop_3072(keysize=noauto)       |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/can_generate_csr_nokeyloop_3072.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - can_gen_csr_3072                             Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:08:07.740493 2556953 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:34184->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase can_generate_csr_nokeyloop_3072(keysize=noauto) is => FAILED
]: +------------------------------------------------------------------------------+
]: |    Starting testcase can_generate_csr_nokeyloop_bad_3073(keysize=noauto)     |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/can_generate_csr_nokeyloop_bad_3073.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - can_gen_csr_3073                             Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:08:59.071156 2598678 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:34858->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase can_generate_csr_nokeyloop_bad_3073(keysize=noauto) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase get_many_certs_success(keysize=2048)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/get_many_certs_success.yaml' with 21 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - step0                                        Passed
]: STEP 2 - step1                                        Passed
]: STEP 3 - step2                                        Passed
]: STEP 4 - step3                                        Passed
]: STEP 5 - step4                                        Passed
]: STEP 6 - step5                                        Passed
]: STEP 7 - step6                                        Passed
]: STEP 8 - step7                                        Passed
]: STEP 9 - step8                                        Passed
]: STEP 10 - step9                                       Passed
]: STEP 11 - step10                                      Passed
]: STEP 12 - step11                                      Passed
]: STEP 13 - step12                                      Passed
]: STEP 14 - step13                                      Passed
]: STEP 15 - step14                                      Passed
]: STEP 16 - step15                                      Passed
]: STEP 17 - step16                                      Passed
]: STEP 18 - step17                                      Passed
]: STEP 19 - step18                                      Passed
]: STEP 20 - step19                                      Passed
]: STEP 21 - step20                                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                            Starting STEP 1: step0                            :
]: +..............................................................................+
]: Starting step: step0
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for step0
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:09:49.769256 2630447 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35390->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: step0 is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase get_many_certs_success(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase get_many_certs_success(keysize=3072)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/get_many_certs_success.yaml' with 21 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - step0                                        Passed
]: STEP 2 - step1                                        Passed
]: STEP 3 - step2                                        Passed
]: STEP 4 - step3                                        Passed
]: STEP 5 - step4                                        Passed
]: STEP 6 - step5                                        Passed
]: STEP 7 - step6                                        Passed
]: STEP 8 - step7                                        Passed
]: STEP 9 - step8                                        Passed
]: STEP 10 - step9                                       Passed
]: STEP 11 - step10                                      Passed
]: STEP 12 - step11                                      Passed
]: STEP 13 - step12                                      Passed
]: STEP 14 - step13                                      Passed
]: STEP 15 - step14                                      Passed
]: STEP 16 - step15                                      Passed
]: STEP 17 - step16                                      Passed
]: STEP 18 - step17                                      Passed
]: STEP 19 - step18                                      Passed
]: STEP 20 - step19                                      Passed
]: STEP 21 - step20                                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                            Starting STEP 1: step0                            :
]: +..............................................................................+
]: Starting step: step0
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for step0
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:10:40.157892 2641820 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35428->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: step0 is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase get_many_certs_success(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                 Starting testcase get_success(keysize=2048)                  |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/get_success.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - get_good                                     Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:11:32.337594 2654151 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35436->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase get_success(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                 Starting testcase get_success(keysize=3072)                  |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/get_success.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - get_good                                     Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:12:27.191082 2655978 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35442->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase get_success(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase install_bad_cert_type(keysize=2048)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_bad_cert_type.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_bad_cert_type                        Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:13:21.584092 2658338 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35448->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_bad_cert_type(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase install_bad_cert_type(keysize=3072)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_bad_cert_type.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_bad_cert_type                        Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:14:17.142948 2660115 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35454->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_bad_cert_type(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase install_bad_key_type(keysize=2048)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_bad_key_type.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_bad_key_type                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:15:11.125042 2663154 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_bad_key_type(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase install_bad_key_type(keysize=3072)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_bad_key_type.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_bad_key_type                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:16:05.755671 2665551 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35468->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_bad_key_type(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase install_empty_cert_data(keysize=2048)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_empty_cert_data.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_empty_cert_data                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:17:01.028916 2668516 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35472->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_empty_cert_data(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase install_empty_cert_data(keysize=3072)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_empty_cert_data.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_empty_cert_data                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:17:55.056999 2671662 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35492->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_empty_cert_data(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase install_empty_cert_id(keysize=2048)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_empty_cert_id.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_empty_cert_id                        Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:18:49.367851 2676939 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35500->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_empty_cert_id(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase install_empty_cert_id(keysize=3072)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_empty_cert_id.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_empty_cert_id                        Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:19:44.144050 2679120 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_empty_cert_id(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |        Starting testcase install_fail_nokeyloop_8096(keysize=noauto)         |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_fail_nokeyloop_8096.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_keysize_8096                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:20:39.493504 2681318 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35514->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_fail_nokeyloop_8096(keysize=noauto) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase install_fail_preexisting(keysize=2048)           |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_fail_preexisting.yaml' with 3 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install                                      Passed
]: STEP 3 - install_preexisting                          Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:21:33.961227 2685725 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35524->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_fail_preexisting(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase install_fail_preexisting(keysize=3072)           |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_fail_preexisting.yaml' with 3 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install                                      Passed
]: STEP 3 - install_preexisting                          Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:22:28.073011 2688535 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35536->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_fail_preexisting(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |         Starting testcase install_fail_with_unknown_ca(keysize=2048)         |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_fail_with_unknown_ca.yaml' with 2 steps present
]: Generated ca/key pair for CA: CA1
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - unknown_ca_install                           Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'foobar', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:23:22.409734 2692713 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35568->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_fail_with_unknown_ca(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |         Starting testcase install_fail_with_unknown_ca(keysize=3072)         |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_fail_with_unknown_ca.yaml' with 2 steps present
]: Generated ca/key pair for CA: CA1
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - unknown_ca_install                           Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'foobar', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:24:17.882425 2694316 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35592->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_fail_with_unknown_ca(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase install_multiple_CA(keysize=2048)              |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_multiple_CA.yaml' with 4 steps present
]: Generated ca/key pair for CA: CA1
]: Generated ca/key pair for CA: CA2
]: Generated ca/key pair for CA: CA3
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_CA1                                  Passed
]: STEP 3 - install_CA2                                  Passed
]: STEP 4 - install_CA3                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'other_cas': 'gnmi_cli/CA1,gnmi_cli/CA2', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:25:12.893003 2696969 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35598->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: Removed files for CACA2
]: Removed files for CACA3
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_multiple_CA(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase install_multiple_CA(keysize=3072)              |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_multiple_CA.yaml' with 4 steps present
]: Generated ca/key pair for CA: CA1
]: Generated ca/key pair for CA: CA2
]: Generated ca/key pair for CA: CA3
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_CA1                                  Passed
]: STEP 3 - install_CA2                                  Passed
]: STEP 4 - install_CA3                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'other_cas': 'gnmi_cli/CA1,gnmi_cli/CA2', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:26:08.339968 2699483 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35610->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: Removed files for CACA2
]: Removed files for CACA3
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_multiple_CA(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase install_no_load_cert_req(keysize=2048)           |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_no_load_cert_req.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_no_load_cert_req                     Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:27:04.159677 2702271 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35616->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_no_load_cert_req(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase install_no_load_cert_req(keysize=3072)           |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_no_load_cert_req.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_no_load_cert_req                     Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:27:59.267902 2704961 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35620->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_no_load_cert_req(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |       Starting testcase install_sleep_before_loadCertReq(keysize=2048)       |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_sleep_before_loadCertReq.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_sleep_before_loadCertReq             Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '30s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:28:53.087440 2707346 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35642->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_sleep_before_loadCertReq(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |       Starting testcase install_sleep_before_loadCertReq(keysize=3072)       |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_sleep_before_loadCertReq.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_sleep_before_loadCertReq             Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '30s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:29:48.450932 2708709 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35656->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_sleep_before_loadCertReq(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |               Starting testcase install_success(keysize=2048)                |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_success.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_good                                 Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:30:42.577243 2711784 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_success(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |               Starting testcase install_success(keysize=3072)                |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_success.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_good                                 Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:31:36.911909 2717816 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35672->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_success(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase install_success_fast(keysize=2048)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_success_fast.yaml' with 3 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install                                      Passed
]: STEP 3 - install_fast                                 Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:32:30.870203 2720369 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_success_fast(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase install_success_fast(keysize=3072)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_success_fast.yaml' with 3 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install                                      Passed
]: STEP 3 - install_fast                                 Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:33:24.585007 2722977 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35686->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_success_fast(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |     Starting testcase install_then_rotate_with_unknown_CA(keysize=2048)      |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_then_rotate_with_unknown_CA.yaml' with 4 steps present
]: Generated ca/key pair for CA: CA1
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_good                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:34:18.335960 2727070 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35690->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_then_rotate_with_unknown_CA(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |     Starting testcase install_then_rotate_with_unknown_CA(keysize=3072)      |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/install_then_rotate_with_unknown_CA.yaml' with 4 steps present
]: Generated ca/key pair for CA: CA1
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_good                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:35:12.996854 2731176 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35696->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: The result of section test_cleanup is => PASSED
]: The result of testcase install_then_rotate_with_unknown_CA(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |       Starting testcase provision_install_rotate_revoke(keysize=2048)        |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/provision_install_rotate_revoke.yaml' with 12 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_cert1                                 Passed
]: STEP 5 - revoke_cert1_cert2                           Passed
]: STEP 6 - install_3                                    Passed
]: STEP 7 - install_4                                    Passed
]: STEP 8 - rotate_cert3                                 Passed
]: STEP 9 - rotate_cert3_again                           Passed
]: STEP 10 - revoke_cert1_cert2_fail                     Passed
]: STEP 11 - revoke_cert3                                Passed
]: STEP 12 - rotate_cert3_fail                           Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:36:06.369253 2735398 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35702->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase provision_install_rotate_revoke(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |       Starting testcase provision_install_rotate_revoke(keysize=3072)        |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/provision_install_rotate_revoke.yaml' with 12 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_cert1                                 Passed
]: STEP 5 - revoke_cert1_cert2                           Passed
]: STEP 6 - install_3                                    Passed
]: STEP 7 - install_4                                    Passed
]: STEP 8 - rotate_cert3                                 Passed
]: STEP 9 - rotate_cert3_again                           Passed
]: STEP 10 - revoke_cert1_cert2_fail                     Passed
]: STEP 11 - revoke_cert3                                Passed
]: STEP 12 - rotate_cert3_fail                           Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:37:00.254961 2738065 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35708->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase provision_install_rotate_revoke(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase provision_success_twice(keysize=2048)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/provision_success_twice.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - provision_again                              Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:37:54.415983 2741255 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35714->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase provision_success_twice(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase provision_success_twice(keysize=3072)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/provision_success_twice.yaml' with 2 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - provision_again                              Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:38:48.607984 2773231 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35726->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase provision_success_twice(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                  Starting testcase revoke_bad(keysize=2048)                  |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/revoke_bad.yaml' with 2 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - revoke_fail                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:39:40.839012 2780962 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35744->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase revoke_bad(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                  Starting testcase revoke_bad(keysize=3072)                  |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/revoke_bad.yaml' with 2 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - revoke_fail                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:40:34.922965 2789461 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35758->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase revoke_bad(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase revoke_several_success(keysize=2048)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/revoke_several_success.yaml' with 22 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - step0                                        Passed
]: STEP 2 - step1                                        Passed
]: STEP 3 - step2                                        Passed
]: STEP 4 - step3                                        Passed
]: STEP 5 - step4                                        Passed
]: STEP 6 - step5                                        Passed
]: STEP 7 - step6                                        Passed
]: STEP 8 - step7                                        Passed
]: STEP 9 - step8                                        Passed
]: STEP 10 - step9                                       Passed
]: STEP 11 - step10                                      Passed
]: STEP 12 - step11                                      Passed
]: STEP 13 - step12                                      Passed
]: STEP 14 - step13                                      Passed
]: STEP 15 - step14                                      Passed
]: STEP 16 - step15                                      Passed
]: STEP 17 - step16                                      Passed
]: STEP 18 - step17                                      Passed
]: STEP 19 - step18                                      Passed
]: STEP 20 - step19                                      Passed
]: STEP 21 - step20                                      Passed
]: STEP 22 - step21                                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                            Starting STEP 1: step0                            :
]: +..............................................................................+
]: Starting step: step0
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for step0
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:41:28.235978 2792975 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35764->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: step0 is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase revoke_several_success(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase revoke_several_success(keysize=3072)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/revoke_several_success.yaml' with 22 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - step0                                        Passed
]: STEP 2 - step1                                        Passed
]: STEP 3 - step2                                        Passed
]: STEP 4 - step3                                        Passed
]: STEP 5 - step4                                        Passed
]: STEP 6 - step5                                        Passed
]: STEP 7 - step6                                        Passed
]: STEP 8 - step7                                        Passed
]: STEP 9 - step8                                        Passed
]: STEP 10 - step9                                       Passed
]: STEP 11 - step10                                      Passed
]: STEP 12 - step11                                      Passed
]: STEP 13 - step12                                      Passed
]: STEP 14 - step13                                      Passed
]: STEP 15 - step14                                      Passed
]: STEP 16 - step15                                      Passed
]: STEP 17 - step16                                      Passed
]: STEP 18 - step17                                      Passed
]: STEP 19 - step18                                      Passed
]: STEP 20 - step19                                      Passed
]: STEP 21 - step20                                      Passed
]: STEP 22 - step21                                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                            Starting STEP 1: step0                            :
]: +..............................................................................+
]: Starting step: step0
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for step0
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:42:21.928146 2799278 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: step0 is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase revoke_several_success(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                Starting testcase revoke_success(keysize=2048)                |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/revoke_success.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - revoke_previous                              Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'cert1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:43:14.387985 2811051 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase revoke_success(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                Starting testcase revoke_success(keysize=3072)                |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/revoke_success.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - revoke_previous                              Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'cert1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:44:08.237896 2819489 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35796->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase revoke_success(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                  Starting testcase rotate_bad(keysize=2048)                  |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_bad.yaml' with 2 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - rotate_nonexistant                           Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:45:01.799140 2823908 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35802->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_bad(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                  Starting testcase rotate_bad(keysize=3072)                  |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_bad.yaml' with 2 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - rotate_nonexistant                           Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:45:55.791966 2831481 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35808->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_bad(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_bad_cert_type(keysize=2048)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_bad_cert_type.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_bad_cert_type                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:46:48.245609 2840196 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35826->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_bad_cert_type(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_bad_cert_type(keysize=3072)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_bad_cert_type.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_bad_cert_type                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:47:42.120956 2846871 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35846->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_bad_cert_type(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_bad_key_type(keysize=2048)              |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_bad_key_type.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_bad_key_type                          Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:48:37.463026 2856085 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35854->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_bad_key_type(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_bad_key_type(keysize=3072)              |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_bad_key_type.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_bad_key_type                          Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:49:32.326976 2863920 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:35860->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_bad_key_type(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase rotate_empty_cert_data(keysize=2048)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_empty_cert_data.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_empty_cert_data                       Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:50:25.000975 2867631 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36052->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_empty_cert_data(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |            Starting testcase rotate_empty_cert_data(keysize=3072)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_empty_cert_data.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_empty_cert_data                       Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:51:16.176806 2870808 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36492->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_empty_cert_data(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_empty_cert_id(keysize=2048)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_empty_cert_id.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_empty_cert_id                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:52:07.762078 2879134 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36686->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_empty_cert_id(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_empty_cert_id(keysize=3072)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_empty_cert_id.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_empty_cert_id                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:53:01.228135 2888343 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36756->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_empty_cert_id(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |         Starting testcase rotate_fail_nokeyloop_8096(keysize=noauto)         |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_fail_nokeyloop_8096.yaml' with 3 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_keysize_2048                         Passed
]: STEP 3 - rotate_keysize_8096                          Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:53:55.793974 2899792 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36772->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_fail_nokeyloop_8096(keysize=noauto) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_no_csr_params(keysize=2048)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_no_csr_params.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_no_csr_params                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:54:48.686160 2904969 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36782->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_no_csr_params(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |             Starting testcase rotate_no_csr_params(keysize=3072)             |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_no_csr_params.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_no_csr_params                         Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:55:42.345952 2907234 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36790->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_no_csr_params(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase rotate_no_load_cert_req(keysize=2048)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_no_load_cert_req.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_no_load_cert_req                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:56:35.601141 2911735 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36804->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_no_load_cert_req(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |           Starting testcase rotate_no_load_cert_req(keysize=3072)            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_no_load_cert_req.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_no_load_cert_req                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:57:29.202836 2916891 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_no_load_cert_req(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |       Starting testcase rotate_sleep_before_loadCertReq(keysize=2048)        |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_sleep_before_loadCertReq.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_sleep_before_loadCertReq              Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:58:24.413979 2920946 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36828->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_sleep_before_loadCertReq(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |       Starting testcase rotate_sleep_before_loadCertReq(keysize=3072)        |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_sleep_before_loadCertReq.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_sleep_before_loadCertReq              Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: Using evil mode
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 22:59:18.375836 2924014 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36834->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_sleep_before_loadCertReq(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                Starting testcase rotate_success(keysize=2048)                |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_success.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_good                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 23:00:11.641039 2928329 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_success(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                Starting testcase rotate_success(keysize=3072)                |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_success.yaml' with 4 steps present
]: Only default CA available
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install_1                                    Passed
]: STEP 3 - install_2                                    Passed
]: STEP 4 - rotate_good                                  Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'alishar', 'time_out': '20s', 'op': 'provision', 'cert_id': 'pyats-tp1', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 23:01:05.019979 2932602 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36860->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'pyats-tp1'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_success(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |     Starting testcase rotate_success_same_cert_many_times(keysize=2048)      |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_success_same_cert_many_times.yaml' with 12 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - step0                                        Passed
]: STEP 2 - step1                                        Passed
]: STEP 3 - step2                                        Passed
]: STEP 4 - step3                                        Passed
]: STEP 5 - step4                                        Passed
]: STEP 6 - step5                                        Passed
]: STEP 7 - step6                                        Passed
]: STEP 8 - step7                                        Passed
]: STEP 9 - step8                                        Passed
]: STEP 10 - step9                                       Passed
]: STEP 11 - step10                                      Passed
]: STEP 12 - step11                                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                            Starting STEP 1: step0                            :
]: +..............................................................................+
]: Starting step: step0
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for step0
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 23:01:58.535205 2937414 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: EOF"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: step0 is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_success_same_cert_many_times(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |     Starting testcase rotate_success_same_cert_many_times(keysize=3072)      |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_success_same_cert_many_times.yaml' with 12 steps present
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - step0                                        Passed
]: STEP 2 - step1                                        Passed
]: STEP 3 - step2                                        Passed
]: STEP 4 - step3                                        Passed
]: STEP 5 - step4                                        Passed
]: STEP 6 - step5                                        Passed
]: STEP 7 - step6                                        Passed
]: STEP 8 - step7                                        Passed
]: STEP 9 - step8                                        Passed
]: STEP 10 - step9                                       Passed
]: STEP 11 - step10                                      Passed
]: STEP 12 - step11                                      Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                            Starting STEP 1: step0                            :
]: +..............................................................................+
]: Starting step: step0
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for step0
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 23:02:52.496893 2941118 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36874->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: step0 is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_success_same_cert_many_times(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |              Starting testcase rotate_unknown_ca(keysize=2048)               |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_unknown_ca.yaml' with 3 steps present
]: Generated ca/key pair for CA: CA1
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install                                      Passed
]: STEP 3 - rotate_with_unknown_CA                       Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 2048, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 23:03:46.742959 2946588 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36894->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_unknown_ca(keysize=2048) is => FAILED
]: +------------------------------------------------------------------------------+
]: |              Starting testcase rotate_unknown_ca(keysize=3072)               |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Loaded testcase file 'data/gnoi_cert/rotate_unknown_ca.yaml' with 3 steps present
]: Generated ca/key pair for CA: CA1
]: +..........................................................+
]: :                       STEPS Report                       :
]: +..........................................................+
]: STEP 1 - provision                                    Passed
]: STEP 2 - install                                      Passed
]: STEP 3 - rotate_with_unknown_CA                       Passed
]: ............................................................
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section rotate_gnmib_traces                     |
]: +------------------------------------------------------------------------------+
]: The result of section rotate_gnmib_traces is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section clear_logging                        |
]: +------------------------------------------------------------------------------+
]: The result of section clear_logging is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section functional_test                       |
]: +------------------------------------------------------------------------------+
]: +..............................................................................+
]: :                          Starting STEP 1: provision                          :
]: +..............................................................................+
]: Starting step: provision
]: Updated args to use testbench provided information
]: Updated args to use default args from tc file
]: Updated args using arguments provided for provision
]: Using default ca/key
]: gRPC operation expected to succeed
]: Expected return code 0
]: Using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'min_key_size': 3072, 'organization': 'pyats-gnoi', 'time_out': '20s', 'cert_id': 'cert0', 'op': 'provision', 'ca': 'gnmi_cli/rootCA.pem', 'key': 'gnmi_cli/rootCA.key'}
]: Using default wait time
]: Sleeping for 10 seconds
]: Calling gnoi_cert
]: F0428 23:04:40.416999 2951195 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36902->127.0.0.1:56551: read: connection reset by peer"
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of STEP 1: provision is => FAILED
]: Failed reason: gnoi_cert operation produced unexpected return code
]: The result of section functional_test is => FAILED
]: +------------------------------------------------------------------------------+
]: |                     Starting section decode_gnmib_trace                      |
]: +------------------------------------------------------------------------------+
]: decode gnmib trace, result failed
]: Setup failed, decoding gnmib trace: (if possible)
]: The result of section decode_gnmib_trace is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section show_trustpool_verbose                    |
]: +------------------------------------------------------------------------------+
]: The result of section show_trustpool_verbose is => PASSED
]: +------------------------------------------------------------------------------+
]: |                     Starting section gnmib_status_check                      |
]: +------------------------------------------------------------------------------+
]: The result of section gnmib_status_check is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section keysize_checks                        |
]: +------------------------------------------------------------------------------+
]: The result of section keysize_checks is => PASSED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: Reverting gnmib to self signed trustpoint
]: Removing the following trustpoints: {'cert0'}
]: Sleeping for 10 seconds
]: Removed files for CACA1
]: The result of section test_cleanup is => PASSED
]: The result of testcase rotate_unknown_ca(keysize=3072) is => FAILED
]: +------------------------------------------------------------------------------+
]: |                  Starting testcase gnoi_configuration_tests                  |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Updated args to use testbench provided information
]: using args: {'target_name': '10.85.71.38', 'target_addr': '127.0.0.1:56551', 'ip_address': '10.85.71.38', 'ca': './gnmi_cli/rootCA.pem', 'key': './gnmi_cli/rootCA.key', 'min_key_size': 2048, 'organization': 'pyats', 'time_out': '10s', 'op': 'provision', 'cert_id': 'config_test_tp1'}
]: F0428 23:05:35.178664 2954931 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36916->127.0.0.1:56551: read: connection reset by peer"
]: Command '['./gnmi_cli/gnoi_cert', '-target_name', '10.85.71.38', '-target_addr', '127.0.0.1:56551', '-ip_address', '10.85.71.38', '-ca', './gnmi_cli/rootCA.pem', '-key', './gnmi_cli/rootCA.key', '-min_key_size', '2048', '-organization', 'pyats', '-time_out', '10s', '-op', 'provision', '-cert_id', 'config_test_tp1', '-alsologtostderr']' returned non-zero exit status 1.
]: Errored reason: Problem with gnoi_cert
]: The result of section test_setup is => ERRORED
]: +------------------------------------------------------------------------------+
]: |                    Starting section quick_unconfig_config                    |
]: +------------------------------------------------------------------------------+
]: Blocking quick_unconfig_config because testcase setup did not pass.
]: The result of section quick_unconfig_config is => BLOCKED
]: +------------------------------------------------------------------------------+
]: |                  Starting section change_trustpoint_quickly                  |
]: +------------------------------------------------------------------------------+
]: Blocking change_trustpoint_quickly because testcase setup did not pass.
]: The result of section change_trustpoint_quickly is => BLOCKED
]: +------------------------------------------------------------------------------+
]: |                Starting section switch_to_fake_self_signed_tp                |
]: +------------------------------------------------------------------------------+
]: Blocking switch_to_fake_self_signed_tp because testcase setup did not pass.
]: The result of section switch_to_fake_self_signed_tp is => BLOCKED
]: +------------------------------------------------------------------------------+
]: |                   Starting section no_gnxi_rtd_timer_break                   |
]: +------------------------------------------------------------------------------+
]: Blocking no_gnxi_rtd_timer_break because testcase setup did not pass.
]: The result of section no_gnxi_rtd_timer_break is => BLOCKED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: The result of section test_cleanup is => PASSED
]: The result of testcase gnoi_configuration_tests is => ERRORED
]: +------------------------------------------------------------------------------+
]: |                       Starting testcase write_mem_test                       |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |                         Starting section test_setup                          |
]: +------------------------------------------------------------------------------+
]: Generating 512 telemetry subcriptions
]: The result of section test_setup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                       Starting section configure_gnmi                        |
]: +------------------------------------------------------------------------------+
]: The result of section configure_gnmi is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting section trigger_write_mem_calls                   |
]: +------------------------------------------------------------------------------+
]: Updated args to use testbench provided information
]: Calling gnoi_cert
]: F0428 23:07:48.259963 2976000 gnoi_cert.go:187] Failed Install:failed stream: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = "transport: authentication handshake failed: read tcp 127.0.0.1:36934->127.0.0.1:56551: read: connection reset by peer"
]: Command '['./gnmi_cli/gnoi_cert', '-target_name', '10.85.71.38', '-target_addr', '127.0.0.1:56551', '-ip_address', '10.85.71.38', '-ca', './gnmi_cli/rootCA.pem', '-key', './gnmi_cli/rootCA.key', '-min_key_size', '2048', '-organization', 'pyats', '-time_out', '10s', '-op', 'provision', '-cert_id', 'write_mem_test_cert_id', '-alsologtostderr']' returned non-zero exit status 1.
]: Errored reason: Could not provision box using gnoi_cert
]: The result of section trigger_write_mem_calls is => ERRORED
]: +------------------------------------------------------------------------------+
]: |                Starting section check_ios_logging_for_errors                 |
]: +------------------------------------------------------------------------------+
]: Skipping/blocking due to goto: cleanup
]: The result of section check_ios_logging_for_errors is => BLOCKED
]: +------------------------------------------------------------------------------+
]: |                        Starting section test_cleanup                         |
]: +------------------------------------------------------------------------------+
]: The result of section test_cleanup is => PASSED
]: The result of testcase write_mem_test is => ERRORED
]: +------------------------------------------------------------------------------+
]: |                           Starting common cleanup                            |
]: +------------------------------------------------------------------------------+
]: +------------------------------------------------------------------------------+
]: |             Starting subsection unconfigure_gnmi_common_cleanup              |
]: +------------------------------------------------------------------------------+
]: Check current Configuration and Status for GNMI
]: The result of subsection unconfigure_gnmi_common_cleanup is => PASSED
]: +------------------------------------------------------------------------------+
]: |                   Starting subsection ios_mem_leaks_check                    |
]: +------------------------------------------------------------------------------+
]: The result of subsection ios_mem_leaks_check is => PASSED
]: The result of common cleanup is => PASSED
